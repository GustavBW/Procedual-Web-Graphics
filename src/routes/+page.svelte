<script lang="ts">
    import { onMount } from 'svelte';
    import type {Controller} from '../js/controller';
    import { getGui } from '../js/autogui/autoGui';
    import ChexController from '../js/chex';
    export let controller: ChexController | null = null;
    const svgPath1 = "M 1.761896141075363e-08,1.999999989110883 L 2.4224307512162484e-07,2.0 L 0.9999997483221735,2.0 L 0.9999999924020834,1.9999999877063126 L 1.0000001125537463,1.9999997748925074 L 1.999999891665604,2.1666879145150607e-07 L 1.9999999823810384,1.0889117026691735e-08 L 1.999999757756926,0.0 L 1.0000002516778275,0.0 L 1.0000000075979167,1.2293687361403766e-08 L 0.9999998874462538,2.2510749246216682e-07 L 1.083343961429946e-07,1.9999997833312078 L 1.761896141075363e-08,1.999999989110883 z";
    const svgPath2 = "M 1.5318425106014434e-08,1.9999999880397352 L 2.5224444675195003e-07,2.0 L 0.009999735665971506,2.0 L 0.009999980718434035,1.999999987504147 L 0.01000005254697704,1.9999997528820765 L 0.5099480820027709,0.01000755387056656 L 0.5099483801611455,0.010006579960581413 L 0.5099487758397078,0.010005641431119493 L 0.509949264933692,0.010004748018476763 L 0.5099498423692416,0.010003908990907716 L 0.5099505021560454,0.010003133052476599 L 0.5099512374494816,0.01000242825276152 L 0.5099520406216225,0.010001801903348212 L 0.5099529033403679,0.010001260501979695 L 0.5099538166558816,0.010000809665148764 L 0.5099547710934367,0.010000454069832531 L 0.5099557567517069,0.010000197404973522 L 0.5099567634054825,0.010000042333210613 L 0.5099577806117465,0.009999990463256836 L 1.4900422789926717,0.009999990463256836 L 1.4900432961989571,0.010000042333212817 L 1.4900443028527537,0.010000197404982295 L 1.4900452885110436,0.010000454069852099 L 1.490046242948616,0.010000809665183128 L 1.4900471562641449,0.010001260502032549 L 1.4900480189829022,0.010001801903422855 L 1.4900488221550514,0.01000242825286079 L 1.4900495574484915,0.010003133052602798 L 1.4900502172352952,0.01000390899106256 L 1.49005079467084,0.010004748018661328 L 1.490051283764814,0.010005641431334176 L 1.4900516794433614,0.010006579960825903 L 1.490051977601716,0.010007553870839807 L 1.9899999474530294,1.9999997528820728 L 1.9900000192815666,1.9999999875041468 L 1.9900002643340298,2.0 L 1.9999997477555533,2.0 L 1.9999999846815752,1.9999999880397352 L 1.9999999388217355,1.9999997552869417 L 1.5000000582673116,2.3306924663462302e-07 L 1.5000000525443595,2.1410038033371096e-07 L 1.4999999962421589,1.0612870412702078e-08 L 1.4999998744665883,5.8737798325233614e-09 L 1.4999997547753607,0.0 L 0.5000002452249515,0.0 L 0.5000001255297573,5.873981972802703e-09 L 0.5000000037574083,1.061306306241896e-08 L 0.49999994745358084,2.1410714633097736e-07 L 0.49999994173277007,2.3306891971745915e-07 L 6.117826525954686e-08,1.9999997552869389 L 1.5318425106014434e-08,1.9999999880397352 z";
    const svgPath3 = "M 0.8049099504195472,0.019214725274375444 L 0.8049097084684995,0.019214761164448473 L 0.8049094712003475,0.019214820597021218 L 0.6173167789716836,0.07612042453531291 L 0.6173165486710898,0.07612050693816524 L 0.6173163275563509,0.0761206115176378 L 0.44442997171048726,0.16853028884627202 L 0.4444297619110397,0.1685304145952208 L 0.44442956544739165,0.16853056030260433 L 0.2928934206783624,0.29289307518034136 L 0.2928932394427422,0.2928932394427422 L 0.29289307518034136,0.2928934206783624 L 0.16853056030260433,0.44442956544739165 L 0.1685304145952208,0.4444297619110397 L 0.16853028884627202,0.44442997171048726 L 0.0761206115176378,0.6173163275563509 L 0.07612050693816524,0.6173165486710898 L 0.07612042453531291,0.6173167789716836 L 0.019214820597021218,0.8049094712003475 L 0.019214761164448473,0.8049097084684995 L 0.019214725274375444,0.8049099504195472 L 2.4061938167100626e-08,0.9999997556954553 L 1.2060005291640751e-08,1.0 L 2.4061938164372306e-08,1.0000002443045446 L 0.019214725274386266,1.1950900495805628 L 0.019214761164437974,1.1950902915315034 L 0.019214820596968326,1.1950905287995528 L 0.07612042453524923,1.3826832806326765 L 0.07612050693819165,1.3826835109335442 L 0.07612061151780541,1.3826837320485328 L 0.16853028884643906,1.5555700282898999 L 0.1685304145951867,1.5555702380889838 L 0.16853056030230093,1.5555704345523134 L 0.2928930751798512,1.7071066389256104 L 0.29289323944279916,1.7071068201618442 L 0.2928934206790759,1.7071069844247397 L 0.4444295654480332,1.8314693800934267 L 0.4444297619109878,1.831469525800209 L 0.44442997170964194,1.831469651548706 L 0.6173163275560857,1.9238793884821457 L 0.6173165486711056,1.9238794930618057 L 0.6173167789720014,1.9238795754647835 L 0.8049094712003513,1.9807851794029798 L 0.8049097084684981,1.9807852388355514 L 0.8049099504195459,1.9807852747256245 L 0.9999997556954554,1.9999999759380618 L 1.0,1.9999999879399948 L 1.0000002443045446,1.9999999759380618 L 1.1950900495805619,1.9807852747256138 L 1.1950902915315038,1.9807852388355618 L 1.195090528799554,1.9807851794030313 L 1.3826832806323568,1.9238795754648477 L 1.382683510933531,1.9238794930617784 L 1.3826837320487944,1.92387938848198 L 1.5555700282907445,1.8314696515485394 L 1.555570238089035,1.8314695258002434 L 1.5555704345516739,1.8314693800937283 L 1.7071066389248963,1.7071069844252305 L 1.7071068201617872,1.7071068201617872 L 1.7071069844252305,1.7071066389248963 L 1.8314693800937283,1.5555704345516739 L 1.8314695258002434,1.555570238089035 L 1.8314696515485394,1.5555700282907445 L 1.92387938848198,1.3826837320487944 L 1.9238794930617784,1.382683510933531 L 1.9238795754648477,1.3826832806323568 L 1.9807851794030313,1.195090528799554 L 1.9807852388355618,1.1950902915315038 L 1.9807852747256138,1.1950900495805619 L 1.9999999759380618,1.0000002443045446 L 1.9999999879399948,1.0 L 1.9999999759380618,0.9999997556954554 L 1.9807852747256245,0.8049099504195459 L 1.9807852388355514,0.8049097084684981 L 1.9807851794029798,0.8049094712003513 L 1.9238795754647835,0.6173167789720014 L 1.9238794930618057,0.6173165486711056 L 1.9238793884821457,0.6173163275560857 L 1.831469651548706,0.44442997170964194 L 1.831469525800209,0.4444297619109878 L 1.8314693800934267,0.4444295654480332 L 1.7071069844247397,0.2928934206790759 L 1.7071068201618442,0.29289323944279916 L 1.7071066389256104,0.2928930751798512 L 1.5555704345523134,0.16853056030230093 L 1.5555702380889838,0.1685304145951867 L 1.5555700282898999,0.16853028884643906 L 1.3826837320485328,0.07612061151780541 L 1.3826835109335442,0.07612050693819165 L 1.3826832806326765,0.07612042453524923 L 1.1950905287995528,0.019214820596968326 L 1.1950902915315034,0.019214761164437974 L 1.1950900495805628,0.019214725274386266 L 1.0000002443045446,2.4061938164372306e-08 L 1.0,1.2060005291640751e-08 L 0.9999997556954553,2.4061938167100626e-08 L 0.8049099504195472,0.019214725274375444 z";
    const unitPlus = "M 1.2059967095385485e-08,1.0000000000000018 L 2.4061671623352445e-08,1.00000024430106 L 0.019214725382847946,1.1950900506817907 L 0.019214759718278053,1.195090282505588 L 0.019214993710099777,1.1950902955063853 L 0.8016837255232941,1.2002841769636148 L 0.8016846986662491,1.2002842309201283 L 0.8016856619346148,1.200284379353858 L 0.8016866061781264,1.2002846208548041 L 0.8016875224272401,1.2002849531289048 L 0.8016884019783358,1.2002853730198266 L 0.8016892364763949,1.200285876538948 L 0.8016900179943658,1.2002864589032476 L 0.8016907391084646,1.200287114580739 L 0.8016913929686947,1.2002878373430206 L 0.8016919733639172,1.2002886203244392 L 0.8016924747808499,1.2002894560873099 L 0.8016928924564409,1.200290336692566 L 0.8016932224231123,1.200291253775175 L 0.8016934615464495,1.2002921986235997 L 0.8016936075549757,1.2002931622625501 L 0.8016936590617288,1.200294135538241 L 0.8049097051070263,1.980785005866808 L 0.8049097175575854,1.980785240250441 L 0.8049099497359711,1.9807852746582981 L 0.9999997556959693,1.9999999759381124 L 1.0000000000000018,1.9999999879400328 L 1.00000024430106,1.9999999759383282 L 1.195090049841503,1.9807852746999133 L 1.1950902823782403,1.9807852402187827 L 1.1950902942704142,1.9807850054404639 L 1.1963286242477622,1.1943607131230427 L 1.196328673904526,1.1943597334216194 L 1.1963288193114006,1.1943587632991972 L 1.1963290590691633,1.1943578120910767 L 1.1963293908706718,1.19435688895055 L 1.1963298115230643,1.19435600276082 L 1.196330316978484,1.1943551620495187 L 1.196330902373031,1.1943543749066492 L 1.196331562073567,1.1943536489067346 L 1.196332289731921,1.1943529910359318 L 1.1963330783459776,1.1943524076248049 L 1.1963339203270555,1.194351904287406 L 1.1963348075729343,1.1943514858672535 L 1.1963357315458178,1.194351156390724 L 1.196336683354494,1.1943509190283064 L 1.1963376538398915,1.1943507760640932 L 1.1963386336632171,1.1943507288738016 L 1.9807850050204479,1.1950902936526884 L 1.9807852401874582,1.1950902823145046 L 1.9807852747410628,1.195090049423705 L 1.9999999759381144,1.000000244304011 L 1.9999999879400328,0.9999999999999984 L 1.9999999759383282,0.99999975569894 L 1.9807852746046948,0.8049099491917296 L 1.9807852402911883,0.8049097174753406 L 1.9807850064182917,0.8049097043083199 L 1.1987118581403768,0.7991224066410985 L 1.1987108858127513,0.7991223520244304 L 1.1987099234085143,0.7991222030879463 L 1.198708980055146,0.7991219612441659 L 1.1987080646994475,0.7991216287867453 L 1.1987071860226883,0.7991212088687237 L 1.1987063523582746,0.7991207054726207 L 1.1987055716127122,0.7991201233726648 L 1.1987048511906238,0.7991194680895153 L 1.198704197924521,0.7991187458379037 L 1.1987036180100055,0.7991179634676931 L 1.1987031169470097,0.7991171283989139 L 1.1987026994876353,0.7991162485513917 L 1.1987023695910834,0.7991153322696356 L 1.1987021303861063,0.7991143882436981 L 1.1987019841413336,0.7991134254267591 L 1.1987019322437562,0.7991124529502128 L 1.196816507349708,0.38955637358965817 L 1.1968165516542344,0.3895553861524465 L 1.1968166932243867,0.3895544079126855 L 1.1968169306770307,0.38955344842772993 L 1.1968172616922659,0.3895525170717013 L 1.1968176830360895,0.3895516229439026 L 1.196818190591993,0.3895507747799191 L 1.1968187794011798,0.38954998086627163 L 1.1968194437110127,0.38954924895945786 L 1.1968201770312168,0.3895485862101718 L 1.1968209721972898,0.3895479990934418 L 1.1968218214404973,0.38954749334536976 L 1.1968227164637748,0.3895470739070897 L 1.1968236485227883,0.38954674487649327 L 1.1968246085113665,0.38954650946819336 L 1.1968255870504678,0.38954636998211767 L 1.1968265745798128,0.3895463277810383 L 1.1968275614512875,0.3895463832772579 L 1.1968285380232058,0.3895465359285809 L 1.1968294947545075,0.3895467842436114 L 1.4967300907523693,0.4834299538152012 L 1.4967303158839835,0.48343001220238807 L 1.4967303247113686,0.48342977979028623 L 1.4949277668492853,0.32889808332859755 L 1.494927751886948,0.32889784057507515 L 1.4949275526969357,0.3288977010169072 L 1.195662143452125,0.1407503524943571 L 1.1956613210167961,0.14074977584377502 L 1.1956605605790924,0.1407491195966701 L 1.1956598698112657,0.14074839037408846 L 1.1956592556826506,0.14074759553334457 L 1.1956587243893488,0.14074674309379148 L 1.1956582812917158,0.1407458416559115 L 1.195657930860277,0.14074490031454362 L 1.1956576766306262,0.14074392856712342 L 1.1956575211677516,0.14074293621786102 L 1.195657466040158,0.14074193327882376 L 1.1950902950263262,0.019214994041469986 L 1.195090282456153,0.01921475974276616 L 1.1950900503547248,0.0192147253506347 L 1.000000244126368,2.4044389269689674e-08 L 1.000000005304046,1.2316928837753154e-08 L 0.999999750553955,2.4568332601585075e-08 L 0.8049099497300878,0.01921472534228138 L 0.8049097175566936,0.01921475974911834 L 0.8049097050983713,0.01921499412724201 L 0.80440463920003,0.14074193127617532 L 0.8044045845530375,0.1407429345473002 L 0.8044044295046754,0.1407439272704485 L 0.8044041756202175,0.14074489942369045 L 0.8044038254627274,0.14074584119275757 L 0.804403382567182,0.14074674307012158 L 0.8044028514047858,0.14074759595097652 L 0.8044022373378318,0.14074839122515548 L 0.8044015465655667,0.1407491208640535 L 0.8044007860616076,0.14074977750167958 L 0.8043999635035405,0.1407503545090192 L 0.5052708713674554,0.32889770082937353 L 0.5052706720095496,0.32889784058229443 L 0.505270657331659,0.3288980836028974 L 0.5036671187389249,0.4834297799302323 L 0.5036671278546428,0.4834300122219953 L 0.5036673528673936,0.4834299538111988 L 0.803359814697544,0.389546785483097 L 0.8033607712181458,0.3895465370121826 L 0.8033617475932614,0.3895463841688299 L 0.8033627342869334,0.3895463284458132 L 0.803363721662426,0.38954637038736234 L 0.8033647000763443,0.38954650958384685 L 0.8033656599728184,0.38954674467577727 L 0.8033665919768328,0.38954707336708244 L 0.8033674869857887,0.3895474924475349 L 0.8033683362584072,0.38954799782410376 L 0.8033691315001019,0.3895485845609305 L 0.8033698649439902,0.38954924692753573 L 0.8033705294267495,0.38954997845478706 L 0.8033711184585797,0.38955077199808136 L 0.8033716262865868,0.38955161980712355 L 0.8033720479509698,0.38955251360162174 L 0.8033723793334615,0.389553444652158 L 0.8033726171975503,0.38955440386544615 L 0.8033727592200901,0.389555381873143 L 0.8033728040139905,0.389556369123346 L 0.8016935991876393,0.7999036298903149 L 0.8016935476906932,0.7999046033422623 L 0.801693401657835,0.7999055671550209 L 0.8016931624767575,0.7999065121698575 L 0.8016928324203042,0.7999074294066684 L 0.8016924146248717,0.7999083101493129 L 0.8016919130606056,0.7999091460284407 L 0.8016913324936735,0.7999099291010214 L 0.8016906784409745,0.7999106519258247 L 0.8016899571177138,0.7999113076341309 L 0.8016891753783424,0.7999118899950023 L 0.8016883406514218,0.7999123934744927 L 0.8016874608690332,0.7999128132882348 L 0.8016865443914023,0.7999131454469038 L 0.8016855999274553,0.7999133867941267 L 0.801684636452061,0.799913535036476 L 0.801683663120747,0.7999135887652628 L 0.019214993752651142,0.8049097045551072 L 0.019214759721417833,0.8049097175007426 L 0.019214725378716692,0.8049099493601545 L 2.4061900085899827e-08,0.9999997556958419 L 1.2059967095385485e-08,1.0000000000000018 z";
    const unitPlusSouth = "M 2.406205130245749e-08,0.9999993980679536 L 1.2141946880045811e-08,0.9999996407034981 L 1.2059970477868143e-08,0.9999996423721403 L 2.4061250162134024e-08,0.9999998866674643 L 0.019214725395310037,1.1950896931804516 L 0.019214759708807858,1.1950899248967985 L 0.01921499358165485,1.1950899380638855 L 0.8012881418597817,1.200877474146601 L 0.8012891141873819,1.2008775287635647 L 0.8012900765915651,1.2008776777003396 L 0.801291019944852,1.2008779195444033 L 0.8012919353004422,1.2008782520020973 L 0.8012928139770671,1.2008786719203797 L 0.8012936476413226,1.2008791753167283 L 0.8012944283867037,1.2008797574169128 L 0.8012951488085903,1.2008804127002715 L 0.8012958020744726,1.200881134952071 L 0.8012963819887509,1.2008819173224468 L 0.8012968830514952,1.2008827523913668 L 0.8012973005106063,1.2008836322390042 L 0.8012976304068858,1.2008845485208495 L 0.801297869611584,1.2008854925468486 L 0.8012980158560741,1.2008864553638219 L 0.8012980677533675,1.2008874278403747 L 0.8031833734449981,1.6104435072043974 L 0.8031833291401957,1.6104444946414733 L 0.8031831875697947,1.610445472881074 L 0.8031829501169305,1.610446432365848 L 0.8031826191015057,1.6104473637216785 L 0.8031821977575239,1.6104482578492665 L 0.8031816902014944,1.610449106013031 L 0.8031811013922137,1.6104498999264554 L 0.8031804370823183,1.610450631833046 L 0.8031797037620821,1.610451294582113 L 0.8031789085960063,1.6104518816986315 L 0.8031780593528228,1.6104523874465033 L 0.8031771643295944,1.6104528068845976 L 0.803176232270652,1.6104531359150254 L 0.8031752722821641,1.6104533713231763 L 0.8031742937431692,1.610453510809125 L 0.8031733062139431,1.6104535530101005 L 0.8031723193425963,1.6104534975138014 L 0.8031713427708111,1.610453344862424 L 0.8031703860396443,1.6104530965473645 L 0.5032698496429415,1.5165699269755102 L 0.5032696245113618,1.5165698685883164 L 0.5032696156838904,1.5165701010003814 L 0.5050721139415207,1.6711017974620597 L 0.5050721289037698,1.6711020402156356 L 0.5050723280937959,1.6711021797738694 L 0.804337618128107,1.859249528294441 L 0.8043384405635777,1.8592501049453618 L 0.8043392010013682,1.8592507611928417 L 0.8043398917692209,1.8592514904158264 L 0.8043405058977968,1.859252285256993 L 0.8043410371909904,1.8592531376969794 L 0.8043414802884447,1.8592540391352934 L 0.8043418307196324,1.8592549804770861 L 0.8043420849489609,1.8592559522249117 L 0.8043422404114433,1.85925694457455 L 0.8043422955385776,1.8592579475139235 L 0.8049094069505699,1.9807848867492601 L 0.8049094195206266,1.9807851210479526 L 0.804909651622018,1.9807851554402212 L 0.9999994576373781,1.9999999759344798 L 0.9999996972148738,1.9999999877026509 L 0.999999950972959,1.9999999754761346 L 1.1950898118512119,1.980785393866864 L 1.1950900440247179,1.980785359460156 L 1.19509005648305,1.9807851250819397 L 1.1955951223813885,1.859258187933699 L 1.1955951770283904,1.8592571846624848 L 1.1955953320767798,1.8592561919392498 L 1.1955955859612821,1.859255219785927 L 1.195595936118833,1.8592542780167867 L 1.1955963790144544,1.8592533761393601 L 1.1955969101769401,1.8592525232584554 L 1.1955975242439953,1.859251727984241 L 1.1955982150163713,1.8592509983453245 L 1.1955989755204484,1.859250341707698 L 1.1955997980786381,1.859249764700377 L 1.4947289498186593,1.6711024183798586 L 1.4947291491765258,1.6711022786269967 L 1.4947291638545022,1.671102035606469 L 1.4963327620516893,1.5165703392791041 L 1.4963327529360573,1.516570106987302 L 1.4963325279232664,1.5165701653981065 L 1.1966400660971264,1.6104533337249518 L 1.1966391095763755,1.6104535821958972 L 1.1966381332011062,1.6104537350392512 L 1.1966371465072803,1.610453790762239 L 1.1966361591316381,1.6104537488206307 L 1.1966351807175786,1.6104536096240578 L 1.1966342208209764,1.6104533745320109 L 1.1966332888168512,1.6104530458405628 L 1.1966323938078054,1.6104526267599437 L 1.1966315445351217,1.610452121383187 L 1.1966307492933894,1.610451534646155 L 1.1966300158494942,1.6104508722793307 L 1.1966293513667607,1.6104501407518503 L 1.196628762334991,1.610449347208322 L 1.1966282545070799,1.6104484993990449 L 1.1966278328428293,1.610447605604316 L 1.1966275014605063,1.6104466745535584 L 1.196627263596622,1.6104457153400629 L 1.196627121574321,1.6104447373321775 L 1.1966270767806917,1.61044375008181 L 1.198306400809491,1.2000963701113332 L 1.1983064523067295,1.2000953966592964 L 1.1983065983398973,1.2000944328464789 L 1.1983068375212986,1.200093487831616 L 1.1983071675780863,1.2000925705948144 L 1.19830758537386,1.2000916898522158 L 1.1983080869384701,1.2000908539731723 L 1.1983086675057444,1.200090070900715 L 1.1983093215587797,1.2000893480760746 L 1.1983100428823659,1.200088692367971 L 1.1983108246220477,1.200088110007341 L 1.198311659349259,1.2000876065281298 L 1.1983125391319143,1.2000871867147034 L 1.1983134556097834,1.2000868545563839 L 1.1983144000739359,1.2000866132095418 L 1.198315363549499,1.200086464967602 L 1.1983163368809417,1.200086411239249 L 1.9807850062472718,1.1950906530726502 L 1.9807852402785766,1.1950906401271146 L 1.9807852746212904,1.1950904082676423 L 1.9999999759381066,1.0000006019319596 L 1.9999999879400379,1.000000357627898 L 1.9999999874565229,1.000000347785623 L 1.9999999759382656,1.000000113323728 L 1.980785393826286,0.8049101877368666 L 1.9807853594909992,0.8049099559129934 L 1.9807851254991278,0.8049099429121187 L 1.1983164532898611,0.7997158230393993 L 1.1983154801469702,0.7997157690825937 L 1.1983145168786962,0.7997156206485844 L 1.1983135726353018,0.7997153791473731 L 1.1983126563863291,0.7997150468730246 L 1.1983117768353957,0.799714626981874 L 1.198310942337518,0.7997141234625447 L 1.198310160819745,0.7997135410980596 L 1.1983094397058582,0.7997128854204062 L 1.1983087858458512,0.7997121626579873 L 1.1983082054508607,0.7997113796764563 L 1.1983077040341654,0.7997105439134992 L 1.1983072863588153,0.7997096633081819 L 1.1983069563923852,0.7997087462255369 L 1.1983067172692867,0.7997078013771011 L 1.1983065712609948,0.7997068377381638 L 1.198306519754469,0.7997058644625087 L 1.195090652520786,0.01921511334241827 L 1.1950906400702865,0.019214878958837032 L 1.1950904078919735,0.01921484455085009 L 1.000000601927675,2.4061620770686968e-08 L 1.0000003576278667,1.205997121106561e-08 L 1.0000001133324372,2.4061257676706462e-08 L 0.8049103077863153,0.01921472530009164 L 0.8049100752496208,0.019214759781213592 L 0.8049100633573802,0.019214994559485075 L 0.8036714949645595,0.8056391676676673 L 0.8036714453074983,0.8056401473690759 L 0.8036712999003294,0.8056411174914543 L 0.8036710601422778,0.8056420686995022 L 0.803670728340489,0.8056429918399285 L 0.8036703076878274,0.8056438780295313 L 0.8036698022321523,0.8056447187406792 L 0.8036692168373661,0.8056455058833715 L 0.8036685571366095,0.805646231883086 L 0.8036678294780555,0.8056468897536678 L 0.8036670408638216,0.8056474731645555 L 0.8036661988825903,0.805647976501699 L 0.8036653116365842,0.8056483949215819 L 0.8036643876636002,0.8056487243978308 L 0.8036634358548517,0.8056489617599593 L 0.8036624653694104,0.8056491047238776 L 0.8036614855460701,0.8056491519138715 L 0.019215114188790156,0.8049093487195176 L 0.01921487902182071,0.8049093600576254 L 0.01921484446808336,0.8049095929483646 L 2.406205130245749e-08,0.9999993980679536 z";

    onMount(async () => {
        const containerDiv: HTMLDivElement | null = document.getElementById("container") as HTMLDivElement;
        controller = new ChexController(
            {container: containerDiv,
                svgsOnly: false,
            });
        controller.start();
        
        document.getElementById("exposed-config")?.appendChild(
            getGui(
                {object: (controller as ChexController).config, 
                    titleText: 'Floats Config', 
                    isEditable: true,
                    onAfterUpdate: () => controller?.update(),
                }
            )
        );
        
    });

    export const freeze = () => {
        //controller?.freeze();
    }
    export const start = () => {
        console.log("Starting controller " + (controller as any).constructor.name);
        controller?.start();
    }
    export const end = () => {
        console.log("Stopping controller " + (controller as any).constructor.name);
        console.table(JSON.stringify(controller?.field))
        controller?.stop();
    }
    export const clear = () => {
        //controller?.clear();
    }
</script>

<div id="container" class="floaty-container" />

<div style="z-index: 10">
    <div id="exposed-config"></div>
    <button on:click={freeze}>Freeze</button>
    <button on:click={start}>Start</button>
    <button on:click={end}>End</button>
    <button on:click={clear}>Clear</button>
</div>


<div class="static-background">

    <div class="scale-to-bounds drop-shadow origin">
        <img src="./svg-primitives/67DegTrapezoidHOLLOW.svg" alt=""/>
    </div>
    
    <!--div class="golden-line" style="left:33vw"></div>
    <div class="golden-line" style="left:66vw"></div-->

</div>



<style>
    :root{
        overflow-y: scroll;
        scroll-behavior: smooth;
    }
    .origin{
        top:0;
        left:0;
    }
    .scale-to-bounds{
        max-width: 10%;
        max-height: 10%;
        transform: scale(10);
    }
    .drop-shadow{
        filter: drop-shadow(0 0 0.75rem rgb(255, 255, 255));
    }
    .golden-line{
        position: fixed;
        top: 0;
        height: 100vh;
        width: 1px;
        z-index: 1;
        background-image: linear-gradient(rgb(255, 225, 0), rgb(175, 82, 0));
    }
    .static-background{
        display: flex;
        height: 100vh;
        width: 100vw;
        top: 0;
        left: 0;
        background-image: linear-gradient(#333, black);
        position: fixed;
        scroll-behavior: smooth;
        z-index: -1000;
    }

    .floaty-container{
        position: fixed;
        top: 0;
        left: 0;
        margin: 0;
        height: 100vh;
        width: 100vw;
        overflow: hidden !important;
        z-index: -1;
    }
 
    .float-square{
        fill:rgb(175, 82, 0);
    }
    
</style>
